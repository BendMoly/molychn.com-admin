webpackJsonp([0],{"7Rwh":function(t,e){},PLOe:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={mounted:function(){this.fetchData()},data:function(){return{typeColor:0,columns:[],dialogFormVisible:!1,columnsForm:{title:"",subTitle:"",icon:"",temp:""},formLabelWidth:"80px"}},filters:{tempToName:function(t){return"text"===t?"图文":"影集"}},methods:{fetchData:function(){var t=this;this.$http.get("/columns").then(function(e){t.columns=e.data})},createColumnCommit:function(){var t=this,e=this.columnsForm;this.$http.post("/columns",e).then(function(e){t.dialogFormVisible=!1,t.fetchData()})},randomType:function(t){for(;t>4;)t%=5;return["","success","warning","info","danger"][t]},tagDel:function(t,e){var l=this;console.log(t,e),this.$confirm("确定删除"+e.name+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.$message({type:"success",message:"删除成功!"})}).catch(function(){l.$message({type:"info",message:"已取消删除"})})}}},s={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("section",{staticClass:"columns-container"},[l("div",{staticClass:"columns-tools"},[l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新增栏目")])],1),t._v(" "),l("div",{staticClass:"columns-list"},t._l(t.columns,function(e,o){return l("div",{key:o,staticClass:"columns-list_items"},[l("div",{staticClass:"columns-list_items_title"},[l("span",{staticClass:"title_main"},[t._v(t._s(e.title))]),t._v("/"),l("span",{staticClass:"title_sub"},[t._v(t._s(e.subTitle))]),l("label",[t._v("("+t._s(t._f("tempToName")(e.temp))+")")])]),t._v(" "),l("div",{staticClass:"columns-list_items_tags"},t._l(e.tags,function(s){return l("el-tag",{key:s,attrs:{closable:"",type:t.randomType(o)},on:{close:function(l){t.tagDel(e,s)}}},[t._v("\n          "+t._s(s)+"\n        ")])}))])})),t._v(" "),l("el-dialog",{attrs:{title:"新增栏目",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{attrs:{model:t.columnsForm}},[l("el-form-item",{attrs:{label:"栏目名称","label-width":t.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:t.columnsForm.title,callback:function(e){t.$set(t.columnsForm,"title",e)},expression:"columnsForm.title"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"栏目缩略","label-width":t.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:t.columnsForm.subTitle,callback:function(e){t.$set(t.columnsForm,"subTitle",e)},expression:"columnsForm.subTitle"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"栏目icon","label-width":t.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:t.columnsForm.icon,callback:function(e){t.$set(t.columnsForm,"icon",e)},expression:"columnsForm.icon"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"栏目模版","label-width":t.formLabelWidth}},[l("el-select",{attrs:{placeholder:"请选择栏目模版"},model:{value:t.columnsForm.temp,callback:function(e){t.$set(t.columnsForm,"temp",e)},expression:"columnsForm.temp"}},[l("el-option",{attrs:{label:"图文",value:"text"}}),t._v(" "),l("el-option",{attrs:{label:"影集",value:"album"}})],1)],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.createColumnCommit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=l("VU/8")(o,s,!1,function(t){l("7Rwh")},"data-v-9e2a823c",null);e.default=i.exports}});
//# sourceMappingURL=0.0d6dacded40799612671.js.map